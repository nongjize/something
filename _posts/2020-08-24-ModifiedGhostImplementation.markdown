---
layout: post
title:  "ModifiedGhost"
date:   2020-08-24 23:46:25 +0800
---

## Modified Ghost Implementation
 GHOST 即 Greedy Heaviest Observed Subtree 协议简称，ghost协议主要是为了解决区块链区块确认速度和安全方面的矛盾。因为区块传输速度的原因，两个矿工A、B，如果A 挖出区块，随即，B也几乎同时而去在A的区块在全网传播之前也挖出了一个区块，这个时候，B挖出的区块很可能就会浪费掉，如此就对区块链网络的安全没有任何贡献了。高产出率衍生出另外一个问题是中心化的问题，如果A矿池拥有全网30%的算力，B矿池有10%的算力，A将会有70%的可能性是在生产废弃区块，B将有90%可能性是在产生废弃区块，如果出块率足够高。这样，A将会通过简单扩大规模来提升效率，最终导致中心化。

ghost通过将上述的废弃区块也纳入区块链长度计算的方式来解决这个问题，也就是说，在ghost的链选择规则上规定，除了将父区块和更早的祖先区块纳入计算外，还要算上被废弃的祖先区块（在ethereum中称之为叔块）。针对上述说的第二个问题（中心化问题），原本废弃的区块将会继续纳入区块链中，但是奖励变为原来的87.5%，将其纳入区块链的侄区块将获得其价值的12.5%，但是原本废弃的叔区块得不到交易费。

Etheruem实现的是一个改良的GHOST协议，其接收废弃叔区块的后代限制在7代，具体情况如下：
一个区块必须指定一个父区块，但是可以指定0个或者多个叔区块。
一个被区块B认定的叔区块需要满足如下特性：其必须是B区块的第二代到第七代祖先区块的直接子块，不能是区块B的祖先区块，必须是有合法格式区块头的区块，但不一定是有效的块或者通过验证的块。叔块不能是被纳入过的块，也不能在同一块内纳入两次。
对于B块引入叔块U，则B块的矿工将会获得U块的3.125%的打包费，U块的矿工获得93.75%的区块打包费。

此改良版本的GHOST协议（限制包含７代祖先以内的的叔块）主要是用于两个目的：不限制叔块代数的GHOST将会引入复杂的合法叔块问题。第二个是，不限制版本的GHOST会丧失鼓励矿工在主链上挖矿的的动机。


